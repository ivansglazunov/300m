{"version":3,"sources":["analitics.js","simulate.js","theme.js","components/example/index.tsx","pages/example/index.tsx","routes.js","index.js"],"names":["FP","GA","YM","chance","require","advancedMatching","localStorage","userId","setItem","concat","Date","valueOf","fbid","getItem","ReactGA","initialize","gaOptions","pageview","window","location","pathname","search","generator","Analitics","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","trackPage","page","ReactPixel","pageView","set","inherits","createClass","key","value","props","init","autoConfig","debug","prevProps","currentPage","nextPage","react_default","a","createElement","lib","accounts","options","clickmap","trackLinks","accurateTrackBounce","webvisor","trackHash","userParams","version","React","Component","withRouter","createMuiTheme","typography","useNextVariants","example","_ref","currentUser","setCurrentUser","count","setCount","Fragment","onClick","withTracker","_useState","useState","_useState2","slicedToArray","assign","_useState3","_useState4","routes","ThemeProvider","theme","react_router","component","Example","Routes","analitics","noClient","ReactDOM","hydrate","react_router_dom","routes_Routes","document","getElementById","ssStyles","parentNode","removeChild"],"mappings":"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","file":"static/js/main.eb3e57fa.chunk.js","sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router\";\n\nimport ReactPixel from \"react-facebook-pixel\";\nimport ya, { YMInitializer } from \"react-yandex-metrika\";\nimport ReactGA from \"react-ga\";\n\nconst FP = null;\nconst GA = \"UA-142236305-1\";\nconst YM = 54097189;\n\nvar Chance = require(\"chance\");\nvar chance = new Chance();\n\nconst advancedMatching = {};\nif (typeof localStorage === \"object\") {\n  if (!localStorage.userId)\n    localStorage.setItem(\"userId\", `${new Date().valueOf()}${chance.fbid()}`);\n  advancedMatching.userId = localStorage.getItem(\"userId\");\n  if (GA) {\n    ReactGA.initialize(GA, {\n      gaOptions: {\n        userId: localStorage.getItem(\"userId\")\n      }\n    });\n    ReactGA.pageview(window.location.pathname + window.location.search);\n  }\n}\n\nexport class Analitics extends React.Component {\n  trackPage = page => {\n    if (FP) ReactPixel.pageView();\n    if (GA) {\n      ReactGA.set({ page });\n      ReactGA.pageview(page);\n    }\n  };\n  componentDidMount() {\n    const page = this.props.location.pathname;\n    this.trackPage(page);\n\n    if (FP) {\n      ReactPixel.init(FP, advancedMatching, {\n        autoConfig: true, // set pixel's autoConfig\n        debug: false // enable logs\n      });\n      ReactPixel.pageView();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const currentPage = prevProps.location.pathname;\n    const nextPage = this.props.location.pathname;\n\n    if (currentPage !== nextPage) {\n      this.trackPage(nextPage);\n    }\n  }\n\n  render() {\n    return (\n      GA &&\n      YM &&\n      typeof localStorage === \"object\" && (\n        <YMInitializer\n          accounts={[YM]}\n          options={{\n            clickmap: true,\n            trackLinks: true,\n            accurateTrackBounce: true,\n            webvisor: true,\n            trackHash: true,\n            userParams: {\n              userId: localStorage.getItem(\"userId\")\n            }\n          }}\n          version=\"2\"\n        />\n      )\n    );\n  }\n}\n\nexport default withRouter(Analitics);\n\nexport const event = action => {\n  try {\n    if (GA) ReactGA.event({ category: \"actions\", action });\n    if (YM) ya(\"reachGoal\", action);\n    if (FP) ReactPixel.trackCustom(action);\n  } catch (error) {\n    console.error(error);\n  }\n};\n","import React from 'react';\n\n// Симулирует withTracker метеора. Вместо запросов к данным в generator нужно возвращать демо данные.\n// Нужен для удобства замены на реальный withTracker после завершения разработки прототипа интерфейса.\nexport default (generator) => {\n  return (Component) => {\n    return (props) => {\n      return <Component {...props} {...generator(props)}/>;\n    };\n  };\n};","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nexport default createMuiTheme({\n  typography: {\n    useNextVariants: true\n  }\n});\n","import React from \"react\";\n\nexport default ({ currentUser, setCurrentUser, count, setCount }) => {\n  return (\n    <>\n      <button onClick={() => setCurrentUser(currentUser ? 0 : 123)}>\n        currentUser: {currentUser}\n      </button>\n      <button onClick={() => setCount(count + 1)}>{count}</button>\n    </>\n  );\n};\n","import React, { useState } from \"react\";\nimport withTracker from \"../../simulate\";\n\nimport Example from \"../../components/example\";\n\nexport default withTracker(() => {\n  const [currentUser, setCurrentUser] = useState(0);\n\n  return {\n    currentUser: currentUser,\n    setCurrentUser\n  };\n})(({ currentUser, setCurrentUser }) => {\n  const [count, setCount] = useState(0);\n\n  return (\n    <Example\n      currentUser={currentUser}\n      setCurrentUser={setCurrentUser}\n      count={count}\n      setCount={setCount}\n    />\n  );\n});\n","import React from \"react\";\nimport { Route, Switch } from \"react-router\";\n\nimport { ThemeProvider } from \"@material-ui/styles\";\n\nimport Analitics from \"./analitics\";\nimport theme from \"./theme\";\n\nimport \"./styles.css\";\nimport \"normalize.css\";\n\nimport Example from \"./pages/example/index.tsx\";\n\nexport const routes = (\n  <ThemeProvider theme={theme}>\n    <Switch>\n      <Route component={Example} />\n    </Switch>\n  </ThemeProvider>\n);\n\nexport default class Routes extends React.Component {\n  render() {\n    return (\n      <>\n        <Analitics />\n        {routes}\n      </>\n    );\n  }\n}\n","//routes index.js\n//import * as React from \"react\";\nimport React from \"react\";\n//import * as ReactDOM from \"react-dom\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Routes from \"./routes\";\n\nif (!localStorage.noClient) {\n  ReactDOM.hydrate(\n    <BrowserRouter>\n      <Routes />\n    </BrowserRouter>,\n    document.getElementById(\"root\"),\n    () => {\n      const ssStyles = document.getElementById(\"jss-server-side\");\n      if (ssStyles) ssStyles.parentNode.removeChild(ssStyles);\n    }\n  );\n}\n"],"sourceRoot":""}